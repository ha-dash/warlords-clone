# Продуктовый Контекст

## Проблемы, которые решает проект

1. **Доступность классической игры**: Warlords — старая игра, недоступная на современных платформах
2. **Современный визуальный опыт**: Оригинальная игра имела простую 2D графику, проект улучшает визуализацию
3. **Редактор карт**: Оригинальная игра не имела редактора, проект добавляет эту возможность
4. **Обучение геймдеву**: Проект служит обучающим материалом для разработки пошаговых стратегий

## User Stories

### Игрок (Player)
- Как игрок, я хочу настроить новую игру, выбрав фракцию и размер карты
- Как игрок, я хочу управлять армиями и захватывать города
- Как игрок, я хочу видеть карту в 3D с детализированными моделями
- Как игрок, я хочу сохранять прогресс и возвращаться к игре позже
- Как игрок, я хочу сражаться с ИИ противниками разной сложности

### Создатель карт (Map Creator)
- Как создатель карт, я хочу создавать пользовательские карты с помощью 3D редактора
- Как создатель карт, я хочу размещать здания и изменять местность
- Как создатель карт, я хочу сохранять и загружать созданные карты
- Как создатель карт, я хочу видеть карту в 3D с реальными моделями

## Принципы UX/UI

1. **Ясность**: Интерфейс интуитивно понятен, минимум обучения
2. **Информативность**: Игрок всегда видит важную информацию (ход, ресурсы, юниты)
3. **Визуальная привлекательность**: Современный дизайн с Shadcn/ui компонентами
4. **Производительность**: Плавная работа даже на средних устройствах
5. **Темная тема**: По умолчанию для комфортной игры

## Приоритеты при принятии решений

- **Удобство интерфейса** > Скорость разработки
- **Производительность игры** > Визуальные эффекты
- **Стабильность** > Новые фичи
- **Читаемость кода** > Оптимизация на микроуровне

## Функциональные Требования (Glossary)

- **Game_Engine**: Основная система управления игровым процессом
- **Player**: Игрок, управляющий одной из фракций
- **Hero**: Особый юнит с уникальными способностями и возможностью развития
- **Army**: Группа юнитов под командованием героя или самостоятельная
- **City**: Поселение, которое можно захватывать и которое производит юнитов
- **Unit**: Боевая единица (воин, маг, летающий юнит и т.д.)
- **Stack**: Группа юнитов, движущихся вместе
- **Terrain**: Тип местности, влияющий на движение и бой
- **Battle_System**: Система автоматических сражений
- **Turn**: Ход игрока в пошаговой системе
- **Map**: Игровая карта с городами, местностью и юнитами
- **Faction**: Раса/фракция игрока (люди, эльфы, демоны и т.д.)

## Ключевые Функциональные Требования

### Инициализация и Настройка Игры
- Отображение главного меню с опциями новой игры/загрузки
- Выбор фракции при старте новой игры
- Генерация карты с начальными городами и юнитами
- Поддержка одиночной игры против ИИ и hot-seat режима

### Система Карты и Местности
- Отображение гексагональной сетки с различными типами местности
- Леса, горы, равнины, вода, дороги
- Расчет стоимости движения на основе местности и характеристик юнита
- Предотвращение входа в непроходимую местность (если нет особых способностей)

### Управление Юнитами и Движение
- Выбор и перемещение юнитов во время хода игрока
- Подсветка доступных мест назначения
- Движение стека юнитов вместе
- Ограничение движения после исчерпания очков движения

### Система Героев
- Получение опыта в бою
- Повышение уровня и характеристик
- Исследование руин и получение предметов/способностей
- Применение бонусов от предметов
- Использование заклинаний

### Управление Городами
- Производство юнитов в контролируемых городах
- Ограничение производства на основе размера города и ресурсов
- Захват городов и передача контроля
- Отображение доступных юнитов для производства

### Боевая Система
- Автоматическое разрешение сражений
- Учет типа юнитов, бонусов местности и лидерства героя
- Расчет урона с учетом случайных факторов
- Обработка смерти героев

### Пошаговый Геймплей
- Обработка ходов всех игроков
- Обработка ходов ИИ противников
- Обработка технических событий между раундами (производство, ресурсы)

### Условия Победы
- Захват всех вражеских городов
- Уничтожение всех вражеских героев и армий
- Отображение экрана победы со статистикой

### Интерфейс и Управление
- Point-and-click интерфейс для всех действий
- Информационные панели при выборе объектов
- Контекстные меню по правому клику
- Горячие клавиши для частых действий
- Отображение статуса игры, ресурсов, информации о ходе

